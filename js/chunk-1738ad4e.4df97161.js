(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1738ad4e"],{"7f83":function(t,e,a){},"849b":function(t,e,a){"use strict";var s=a("7f83"),r=a.n(s);r.a},d856:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container checkDetail pb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"d-flex justify-content-between align-items-end border-bottom pb-3 pt-1 text-white noto"},[a("h3",{staticClass:"d-none d-lg-block bold mb-0"},[t._v("訂單詳情")]),a("div",{staticClass:"d-flex flex-column flex-lg-row"},[a("p",[t._v("訂單編號："+t._s(t.createdTime.timestamp))]),a("p",{staticClass:"ml-0 ml-lg-5"},[t._v("訂單時間："+t._s(t.createdTime.datetime))])])])])]),a("div",{staticClass:"row justify-content-center pt-3 pb-2"},[a("div",{staticClass:"col-12 col-lg-8"},[a("table",{staticClass:"table table-hover table-borderless table-dark noto"},[t._m(0),a("tbody",t._l(t.order.products,(function(e){return a("tr",{key:e.product.content},[a("td",{staticClass:"d-flex align-items-center"},[a("img",{staticClass:"checkImg d-none d-md-block mr-2",attrs:{src:e.product.imageUrl[0],alt:"item.product.title"}}),a("p",[t._v(t._s(e.product.title))])]),a("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(e.product.price)+" ")]),a("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(e.quantity)+" ")]),a("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(e.product.price*e.quantity)+" ")])])})),0),a("tfoot",{staticClass:"border-top"},[a("tr",[t._m(1),a("td",[a("h5",{staticClass:"noto text-main text-center"},[t._v(t._s(t.order.amount))])])])])])]),a("div",{staticClass:"col-12 col-lg-4 text-white noto"},[a("div",[a("div",[a("p",{staticClass:"mb-2"},[t._v("訂購人姓名："+t._s(t.orderUser.name))]),a("p",{staticClass:"mb-2"},[t._v("訂購人地址："+t._s(t.orderUser.address))]),a("p",{staticClass:"mb-2"},[t._v("訂購人電話："+t._s(t.orderUser.tel))]),a("p",{staticClass:"mb-2"},[t._v("訂購人電郵："+t._s(t.orderUser.email))]),a("p",{staticClass:"mb-2"},[t._v("付款方式："+t._s(t.order.payment))]),t.order.paid?a("p",{staticClass:"mb-2"},[t._v("付款狀態：已付款")]):a("p",{staticClass:"mb-2"},[t._v("付款狀態：未付款")]),a("p",{staticClass:"mb-2 text-main"},[t._v("優惠券： "),t.coupon?a("span",[t._v(t._s(t.coupon.title))]):a("span",[t._v("無")])]),a("p",{staticClass:"mb-2"},[t._v("訂單備註："+t._s(t.order.message))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.order.paid,expression:"order.paid"}],staticClass:"mb-2"},[t._v("付款時間："+t._s(t.order.paid_diff))]),t.order.paid?a("button",{staticClass:"btn btn-outline-main d-flex mb-3",attrs:{type:"button",disabled:""}},[t._v(" 已付款 "),a("span",{staticClass:"material-icons ml-1"},[t._v(" thumb_up ")])]):a("button",{staticClass:"btn btn-main mb-2 rounded-0\n                          ",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v("去付款")]),a("div",{staticClass:"collapse",attrs:{id:"collapseExample"}},[a("div",{staticClass:"bg-white p-3 text-black rounded"},[a("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",[a("label",[t._v("信用卡資訊")]),a("validation-provider",{attrs:{rules:"required|numeric|min:16"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.number,expression:"form.number"}],staticClass:"form-control mb-2",class:r,attrs:{type:"tel",placeholder:"信用卡號",name:"信用卡號",maxlength:"16"},domProps:{value:t.form.number},on:{input:function(e){e.target.composing||t.$set(t.form,"number",e.target.value)}}}),a("span",{staticClass:"invalid-feedback mb-2"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control mb-2",class:r,attrs:{type:"text",placeholder:"持卡人姓名",name:"持卡人姓名"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),a("span",{staticClass:"invalid-feedback mb-2"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("div",{staticClass:"form-row mb-2"},[a("div",{staticClass:"col"},[a("validation-provider",{attrs:{rules:"required|numeric|min:4"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dueDate,expression:"form.dueDate"}],staticClass:"form-control mb-2",class:r,attrs:{type:"tel",placeholder:"到期日( MM / YY )",name:"到期日",maxlength:"4"},domProps:{value:t.form.dueDate},on:{input:function(e){e.target.composing||t.$set(t.form,"dueDate",e.target.value)}}}),a("span",{staticClass:"invalid-feedback mb-2"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"col"},[a("validation-provider",{attrs:{rules:"required|numeric|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.validate,expression:"form.validate"}],staticClass:"form-control mb-2",class:r,attrs:{type:"tel",placeholder:"驗證碼",name:"驗證碼",maxlength:"3"},domProps:{value:t.form.validate},on:{input:function(e){e.target.composing||t.$set(t.form,"validate",e.target.value)}}}),a("span",{staticClass:"invalid-feedback mb-2"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),a("button",{staticClass:"btn btn-main w-100 rounded-0",attrs:{type:"button",disabled:s},on:{click:function(e){return e.preventDefault(),t.checkout(e)}}},[t._v("結帳")])],1)]}}])})],1)])])])])])]),a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"border-bottom"},[a("tr",[a("th",[t._v("商品")]),a("th",{staticClass:"text-center"},[t._v("價格")]),a("th",{staticClass:"text-center"},[t._v("數量")]),a("th",{staticClass:"text-center"},[t._v("小計")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"3"}},[a("h5",{staticClass:"text-right noto text-main"},[t._v("總計：")])])}],o=(a("99af"),{data:function(){return{order:{},createdTime:{},coupon:{},orderUser:{},isLoading:!1,form:{}}},created:function(){this.getCheckDetail()},methods:{getCheckDetail:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("c51499a4-290d-4ab0-ac0f-2a0060e72bdf","/ec/orders/").concat(this.$route.params.id);this.axios.get(e).then((function(e){t.order=e.data.data,t.createdTime=e.data.data.created,t.orderUser=e.data.data.user,t.coupon=e.data.data.coupon,t.isLoading=!1})).catch((function(){$(".alert").removeClass("d-none"),t.isLoading=!1}))},checkout:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("c51499a4-290d-4ab0-ac0f-2a0060e72bdf","/ec/orders/").concat(this.$route.params.id,"/paying");this.axios.post(e).then((function(){t.$router.push("/done")})).catch((function(){$(".alert").removeClass("d-none"),t.isLoading=!1}))}}}),i=o,n=(a("849b"),a("2877")),l=Object(n["a"])(i,s,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1738ad4e.4df97161.js.map