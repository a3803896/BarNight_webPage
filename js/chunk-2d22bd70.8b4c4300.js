(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22bd70"],{f14c:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"d-flex justify-content-lg-between flex-wrap"},t._l(t.files,(function(a){return e("div",{key:a.id,staticClass:"card align-self-end mb-3",staticStyle:{width:"32%"}},[e("img",{staticClass:"card-img-top",attrs:{src:a.path,alt:"商品照片"}}),e("div",{staticClass:"card-body d-flex justify-content-lg-between"},[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.openFile("delete",a)}}},[t._v("刪除")]),e("button",{staticClass:"btn btn-info w-75",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.openFile("open",a)}}},[t._v("查看")])])])})),0),e("Mypagination",{attrs:{"inner-pagination":t.pagination},on:{"change-page":t.getFiles}}),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"modal fade",attrs:{id:"fileModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl pb-5"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body d-flex justify-content-center"},[e("img",{attrs:{src:t.imgPath,alt:"商品照片"}})])])])]),e("div",{staticClass:"modal fade",attrs:{id:"delFileModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除此圖片？ ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delFile}},[t._v(" 確認刪除 ")])])])])])],1)])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("圖片")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],l=(e("99af"),{data:function(){return{pagination:{},files:[],imgPath:"",imgId:"",isLoading:!1}},created:function(){this.getFiles()},methods:{getFiles:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("c51499a4-290d-4ab0-ac0f-2a0060e72bdf","/admin/storage?page=").concat(a);this.axios.get(e).then((function(a){t.files=a.data.data,t.pagination=a.data.meta.pagination,t.isLoading=!1})).catch((function(){$(".alert").removeClass("d-none"),t.isLoading=!1}))},openFile:function(t,a){switch(t){case"open":this.imgPath=a.path,$("#fileModal").modal("show");break;case"delete":this.imgId=a.id,$("#delFileModal").modal("show");break;default:break}},delFile:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("c51499a4-290d-4ab0-ac0f-2a0060e72bdf","/admin/storage/").concat(this.imgId);this.axios.delete(a).then((function(){t.getFiles(),$("#delFileModal").modal("hide")})).catch((function(){$(".alert").removeClass("d-none"),$("#delFileModal").modal("hide"),t.isLoading=!1}))}}}),n=l,o=e("2877"),d=Object(o["a"])(n,i,s,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d22bd70.8b4c4300.js.map